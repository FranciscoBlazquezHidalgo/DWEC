<html>

<head>
    <script>
        //Clase aeropuerto
        class Aeropuerto {

            constructor(nombre, ciudad, numeroVuelosDiarios) {

                this.nombre = nombre;
                this.ciudad = ciudad;
                this.numeroVuelosDiarios = numeroVuelosDiarios;

            }
            //Método que muestra el aeropuerto y sus vuelos
            mostrar() {

                let mensajeVuelo = "";

                let i = 0;

                while (i < this.numeroVuelosDiarios.length) {

                    mensajeVuelo = mensajeVuelo + "Código: " + numeroVuelosDiarios[i].codigo + " Hora de llegada: " + numeroVuelosDiarios[i].hora_llegada + " Hora de salida: " + numeroVuelosDiarios[i].hora_salida + "\n";

                    i++;

                }

                alert("Nombre: " + this.nombre + " Ciudad: " + this.ciudad + " Número de vuelos diarios: " + this.numeroVuelosDiarios.length + "\nVuelos: \n" + mensajeVuelo);

            }

        }
        //Clase aeropuerto
        class Vuelo {

            constructor(codigo, hora_llegada, hora_salida) {

                this.codigo = codigo;
                this.hora_llegada = hora_llegada;
                this.hora_salida = hora_salida;

            }
            //Método que cambia la hora de salida de un vuelo
            modificarHoraLlegada(numeroVuelosDiarios, codigoVuelo, nuevaHoraLlegada) {

                let i = 0;

                while (i < numeroVuelosDiarios.length) {

                    if (numeroVuelosDiarios[i].codigo == codigoVuelo) {

                        numeroVuelosDiarios[i].hora_llegada = nuevaHoraLlegada;

                        alert("Hora de llegada cambiada a " + numeroVuelosDiarios[i].hora_llegada + ".");

                    }

                    i++;

                }

            }
            //Método que cambia la hora de salida de un vuelo
            modificarHoraSalida(numeroVuelosDiarios, codigoVuelo, nuevaHoraSalida) {

                let j = 0;

                while (j < numeroVuelosDiarios.length) {

                    if (numeroVuelosDiarios[j].codigo == codigoVuelo) {

                        numeroVuelosDiarios[j].hora_salida = nuevaHoraSalida;

                        alert("Hora de salida cambiada a " + numeroVuelosDiarios[j].hora_salida + ".\n");

                    }

                    j++;

                }

            }
            //Método que comprueba la hora de llegada y salida de un vuelo
            comprobarHoras(numeroVuelosDiarios, codigoVuelo) {

                let h = 0, llegada="", salida="", horaLLegada=0, horaSalida=0;

                while (h < numeroVuelosDiarios.length) {

                    if (numeroVuelosDiarios[h].codigo == codigoVuelo) {

                        llegada = numeroVuelosDiarios[h].hora_llegada;
                        horaLLegada = llegada.substring(0,1);
                        salida = numeroVuelosDiarios[h].hora_salida;
                        horaSalida = salida.substring(0, 1);

                        if (horaSalida > horaLLegada) {

                            alert("La hora de salida es superior a la hora de llegada.");

                        } else {

                            alert("La hora de llegada es superior a la hora de salida.");

                        }

                    }

                    h++;

                }

            }
            //Método que muestra el vuelo creado
            mostrar() {

                alert("Vuelo creado: \nCódigo: " + this.codigo + " Hora de llegada: " + this.hora_llegada + " Hora de salida: " + this.hora_salida)

            }
            //Método que crea un nuevo vuelo
            crearVuelo(numeroVuelosDiarios, vuelo){

                let codigo=0, hora_llegada="", hora_salida="";

                codigo=parseInt(prompt("Introduce el número del vuelo."));
                hora_llegada=(prompt("Introduce la hora de llegada del vuelo.")).toString();
                hora_salida=(prompt("Introduce la hora de salida del vuelo.")).toString();

                vuelo=new Vuelo(codigo, hora_llegada, hora_salida);
                numeroVuelosDiarios.push(vuelo);

                vuelo.mostrar();

            }

        }
        //Array de vuelos
        var numeroVuelosDiarios = [];
        //Creación de los objetos vuelo e introducción en el array
        let vuelo = new Vuelo(108, '18:00', '14:00');
        numeroVuelosDiarios.push(vuelo);

        vuelo = new Vuelo(21, '20:00', '17:00');
        numeroVuelosDiarios.push(vuelo);

        vuelo = new Vuelo(03, '12:00', '10:00');
        numeroVuelosDiarios.push(vuelo);
        //Creación del objeto aeropuerto
        let aeropuerto = new Aeropuerto('Barajas', 'Madrid', numeroVuelosDiarios);

        let opcion = 0, codigoVuelo=0, nuevaHoraLlegada0="", nuevaHoraSalida="";
        //Bucle del menú de opciones
        while (opcion != 6) {
            opcion = parseInt(prompt("1 para cambiar la hora de llegada de un vuelo. \n 2 para cambiar la hora de salida de un vuelo. \n 3 para comprobar horas de llegada y salida. \n 4 para crear un vuelo. \n 5 para mostrar el aeropuerto con sus vuelos. \n 6 para salir."));
            //Selector de opciones
            switch (opcion) {
                //Opción para cambiar hora de llegada de vuelo
                case 1:

                    codigoVuelo = parseInt(prompt("Introduce código del vuelo."));
                    nuevaHoraLlegada = (prompt("Introduce la nueva hora de llegada del vuelo.")).toString();
                    vuelo.modificarHoraLlegada(numeroVuelosDiarios, codigoVuelo, nuevaHoraLlegada);

                    break;
                //Opción para cambiar hora de salida de vuelo
                case 2:

                    codigoVuelo = parseInt(prompt("Introduce código del vuelo."));
                    nuevaHoraSalida = (prompt("Introduce la nueva hora de salida del vuelo.")).toString();
                    vuelo.modificarHoraSalida(numeroVuelosDiarios, codigoVuelo, nuevaHoraSalida);

                    break;
                //Opción para comprobar hora de llegada y salida de vuelo
                case 3:

                    codigoVuelo = parseInt(prompt("Introduce código del vuelo a comprobar."));
                    vuelo.comprobarHoras(numeroVuelosDiarios, codigoVuelo);

                    break;
                //Opción para crear vuelo
                case 4:

                vuelo.crearVuelo(numeroVuelosDiarios, vuelo);

                break;
                //Opción para mostrar aeropuerto
                case 5:

                aeropuerto.mostrar();

                break;

            }

        }

    </script>
</head>

<body>

</body>

</html>